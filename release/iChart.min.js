window.iChart=window.iChart||{},function(a){var b=.5,c={calculateFontSize:function(a){if(a&&""!=a)for(var b=a.split(" "),c=0;c<b.length;c++)if(b[c].indexOf("px")>0)return parseInt(b[c].substr(0,b[c].length-2));return 0},findMax:function(a,b,c){var d=this.getYFields(b);return this.findMaxInAll(a,d,c)},findMaxInAll:function(a,b,c){for(var d=[],e=0;e<b.length;e++)d.push(this.max(a,b[e],c));return this.max(d,void 0,c)},max:function(a,b,c){var d=null;if(a&&a.length>0){d=void 0==b?a[0]:a[0][b];for(var e=1;e<a.length;e++){var f=void 0==b?a[e]:a[e][b];void 0!=c&&1==c?d>f&&(d=f):f>d&&(d=f)}}return d},getYFields:function(a){var b=[];if(a&&a.length>0)for(var c=0;c<a.length;c++)b.push(a[c].yField);return b},getScale:function(a){var b=a.toString().split("."),c=parseInt(b[0]);return c>0?b[0].length:0},getScales:function(a){var c,d=[0],e=5,f=this.getScale(a);if(1>=f){c=2;for(var g=1;e>=g;g++)d.push(c*g)}else if(a>Math.pow(10,f)*b){c=2*Math.pow(10,f-1);for(var g=1;e>=g;g++)d.push(c*g)}else{c=Math.pow(10,f-1);for(var h=a/c,g=1;h+1>=g;g++)d.push(c*g)}return d}};a.Utils=c}(window.iChart),window.iChart=window.iChart||{},function(a){var b=5,c=10,d=100,e=2*b+c,f=function(a,b){this.canvas=a,this.context=this.canvas.getContext("2d"),this.width=this.canvas.width,this.height=this.canvas.height,this.parameters=b},g=f.prototype;g.initialize=function(){var a=["dataProvider","series"],c={animated:!0,showTooltip:!0,showLegend:!0,showGrid:!0,title:{label:"",color:"#000",font:"14px Segoe UI Light",top:b}};if(void 0==this.parameters||null==this.parameters)return console.error("Error: miss param "),!1;for(var f=0;f<a.length;f++)if(!this.parameters.hasOwnProperty(a[f]))return console.error("Error: miss param "+a[f]),!1;for(var g in c)if(this[g]=void 0==this.parameters[g]?c[g]:this.parameters[g],"title"==g)for(var h in c.title)this.title[h]=void 0==this.title[h]?c.title[h]:this.title[h];return this.width<d||this.height<e?(console.error("Canvas is too small for iChart(minWidth:"+d+", minHeight:"+e),!1):(this.headerHeight=0,this.legendHeight=0,this.paddingRight=2*b,!0)},g.drawChart=function(){this.initialize()&&(this._drawTitle(),this._drawLegend(),this._draw(b),this._createTooltip())},g._drawTitle=function(){if(""!=this.title.label){var b=this.title.top;this.context.font=this.title.font,this.context.textAlign="center",this.context.fillStyle=this.title.color,this.context.fillText(this.title.label,this.width/2,b),this.headerHeight=b+a.Utils.calculateFontSize(this.context.font)/2}},g._drawLegend=function(){if(this.showLegend)for(var a=0;a<this.parameters.series;a++){this.parameters.series[a]}},g._draw=function(){console.error("BaseChart should not be initialized directly. Use sub classes(BarChart, LineChart etc) instead.")},g._createTooltip=function(){},a.BaseChart=f}(window.iChart),function(a){var b=6,c=function(b,c){a.BaseChart.call(this,b,c)},d=c.prototype=Object.create(a.BaseChart.prototype);c.prototype.parent=a.BaseChart.prototype,d._draw=function(a){this._drawAxes(a),this._drawDataArea()},d._drawAxes=function(c){var d=c,e=this.headerHeight,f=this.parameters.dataProvider,g=this.parameters.series,h=a.Utils.findMax(f,g),i=a.Utils.getScales(h),j=40,k=20;this.origin={x:c+j,y:this.height-this.legendHeight-k};var l=d+j,m=this.width-this.paddingRight;this.yAxisLength=this.origin.y-e,this.xAxisLength=m-this.origin.x,this.context.strokeStyle="#e5e5e5",this.context.lineWidth="1",this.context.beginPath(),this.context.moveTo(l,e),this.context.lineTo(this.origin.x,this.origin.y),this.context.lineTo(m,this.origin.y),this.context.lineTo(m,e),this.context.lineTo(l,e),this.context.stroke();var n=void 0==this.parameters.yAxis?void 0:this.parameters.yAxis.labelFunction;if(i.length>1)for(var o=this.yAxisLength/(i.length-1),p=0;p<i.length;p++){var q=this.origin.y-o*p,r=void 0==n?i[p]:n.call(null,i[p]);this.context.beginPath(),this.context.lineWidth=p%2==0?"2":"1",this.context.strokeStyle="#e5e5e5",this.context.moveTo(this.origin.x,q),this.context.lineTo(this.origin.x-b,q),this.showGrid&&this.context.lineTo(m,q),this.context.stroke(),this.context.font="4px Arial",this.context.textAlign="left",this.context.fillStyle="black",this.context.fillText(r,d,q+4)}},d._drawDataArea=function(){console.error("AxesChart should not be initialized directly. Use sub classes(BarChart, LineChart etc) instead.")},a.AxesChart=c}(window.iChart),function(a){var b=function(b,c){a.AxesChart.call(this,b,c)},c=b.prototype=Object.create(a.AxesChart.prototype);b.prototype.parent=a.AxesChart.prototype,c._drawDataArea=function(){},a.BarChart=b}(window.iChart);